# spring框架三

### 必知必会

- 知道什么是AOP及相关术语
- 会使用XML及注解的方式配置AOP



### 面试题

- Spring框架中的单例Beans是线程安全的么？

  ```
   Spring框架并没有对单例bean进行任何多线程的封装处理。关于单例bean的线程安全和并发问题需要开发者自行去搞定。
  最浅显的解决办法就是将多态bean的作用域由“singleton”变更为“prototype”。
  ```

  ​

- 动态代理常用的有两种方式及区别

  ```java
  JDK和CGLIB,jdk动态代理必须是基于接口的，要求被代理类最少实现一个接口，利用了jdk动态生成内存字节码代理类的方式；CGLIB静态代理，这种代理适用于对任何类的代理，它是利用继承的能力，代理原有类的方法，并植入逻辑,不需要实现接口
  // Spring AOP 采用哪种代理？
  如果目标对象实现了接口，默认情况下会采用 JDK 的动态代理实现 AOP；如果目标对象没有实现了接口，则采用 CGLIB 库，Spring 会自动在 JDK 动态代理和 CGLIB 动态代理之间转换
  ```

  ​

- 什么是AOP 以及和OOP的区别

  ```
  AOP是能够让我们在不影响原有功能的前提下，为软件横向扩展功能。 我们在WEB项目开发中，通常都遵守三层原则，包括控制层（Controller）->业务层（Service）->数据层（dao）,那么从这个结构下来的为纵向，它具体的某一层就是我们所说的横向。我们的AOP就是可以作用于这某一个横向模块当中的所有方法。
  AOP和OOP的区别：AOP是OOP的补充，当我们需要为多个对象引入一个公共行为，比如日志，操作记录等，就需要在每个对象中引用公共行为，这样程序就产生了大量的重复代码，使用AOP可以完美解决这个问题
  ```

  ​